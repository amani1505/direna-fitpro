<div class="flex items-center gap-1">
  <div class="p-1 text-blue-500 bg-blue-100 rounded-md">
    <svg-icon
      [src]="'/assets/icons/heroicons/outline/person.svg'"
      [svgStyle]="{ 'width.px': 24 }"
    ></svg-icon>
  </div>
  <div class="text-xl font-bold">Personal Information</div>
</div>
<p class="mt-4 mb-6 text-gray-400">Update your personal information</p>

<form [formGroup]="userForm">
  <div class="grid grid-cols-1 gap-6 mb-6 md:grid-cols-3">
    <div>
      <label for="first_name" class="block mb-2"
        >First Name <span class="text-[#e11d48]">*</span></label
      >
      <input
        type="text"
        id="first_name"
        formControlName="first_name"
        class="input-field"
      />

      @if (userForm.get("first_name")?.touched) {
        @if (userForm.get("first_name").hasError("required")) {
          <div class="is__invalid-error">First Name is Required</div>
        }
      }
    </div>
    <div>
      <label for="middle_name" class="block mb-2">Middle Name</label>
      <input
        type="text"
        id="middle_name"
        formControlName="middle_name"
        class="input-field"
      />
    </div>
    <div>
      <label for="last_name" class="block mb-2"
        >Last Name <span class="text-[#e11d48]">*</span></label
      >
      <input
        type="text"
        id="last_name"
        formControlName="last_name"
        class="input-field"
      />
      @if (userForm.get("last_name")?.touched) {
        @if (userForm.get("last_name").hasError("required")) {
          <div class="is__invalid-error">Last Name is Required</div>
        }
      }
    </div>
  </div>

  <div class="grid grid-cols-1 gap-6 mb-6 md:grid-cols-2">
    <div>
      <label for="email" class="block mb-2"
        >Email <span class="text-[#e11d48]">*</span></label
      >
      <input
        type="email"
        id="email"
        formControlName="email"
        class="input-field"
      />

      @if (userForm.get("email")?.touched) {
        @if (userForm.get("email").hasError("required")) {
          <div class="is__invalid-error">Email is Required</div>
        } @else if (userForm.get("email").hasError("email")) {
          <div class="is__invalid-error">
            Email must be an email address valid
          </div>
        }
      }
    </div>

    <div>
      <label for="phone_number" class="block mb-2"
        >Phone Number <span class="text-[#e11d48]">*</span></label
      >
      <input
        type="tel"
        id="phone_number"
        formControlName="phone_number"
        class="input-field"
      />
      @if (userForm.get("phone_number")?.touched) {
        @if (userForm.get("phone_number").hasError("required")) {
          <div class="is__invalid-error">Phone Number is Required</div>
        }
      }
    </div>
  </div>
  <div class="form__group">
    <label class="block text-sm font-medium text-gray-700"
      >Gender <span class="text-[#e11d48]">*</span></label
    >
    <div class="mt-2 space-x-4">
      <label class="inline-flex items-center">
        <input
          type="radio"
          formControlName="gender"
          value="male"
          class="w-5 h-5 border-gray-300 form-radio text-primary-600 focus:ring-primary-500"
        />
        <span class="ml-2">Male</span>
      </label>
      <label class="inline-flex items-center">
        <input
          type="radio"
          formControlName="gender"
          value="female"
          class="w-5 h-5 border-gray-300 form-radio text-primary-600 focus:ring-primary-500"
        />
        <span class="ml-2">Female</span>
      </label>
    </div>
    @if (userForm.get("gender")?.touched) {
      @if (userForm.get("gender").hasError("required")) {
        <div class="is__invalid-error">Gender is Required</div>
      }
    }
  </div>

  <!-- <div class="mb-6">
    <label for="bio" class="block mb-2">Bio</label>
    <textarea
      id="bio"
      [(ngModel)]="user.bio"
      rows="5"
      class="input-field"
    ></textarea>
  </div> -->

  <div class="flex items-center justify-end">
    <button
      (click)="savePersonalInfo()"
      [disabled]="userForm.invalid || loading()"
      class="px-6 py-2 text-white transition-colors duration-200 rounded-lg"
      [ngClass]="{
        ' hover:bg-primary-400  bg-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ':
          !userForm.invalid,
        'bg-gray-300 ': userForm.invalid,
      }"

    >
      {{ loading() ? "Saving..." : "Save Changes" }}
    </button>
  </div>
</form>
